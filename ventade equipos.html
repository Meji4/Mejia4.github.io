<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #0b0f4b;
            color: white;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .back-to-home {
            color: white;
            padding: 10px 20px;
            background-color: #0b0f4b;
            border-radius: 5px;
            text-decoration: none;
            position: absolute;
            left: 20px;
            top: 20px;
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 10px;
        }

        h1 {
            margin: 0;
            display: flex;
            align-items: center;
            text-align: center;
        }

        .product-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            padding: 20px;
        }

        .product {
            width: 300px;
            margin: 20px;
            padding: 20px;
            background-color: #f1f1f1;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .product img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 5px;
        }

        .product h2 {
            margin-top: 10px;
            font-size: 1.2em;
        }

        .product p {
            margin: 10px 0;
        }

        .product .stock {
            font-weight: bold;
            color: green;
        }

        .product button {
            background-color: #0b0f4b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }

        #cart {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #0b0f4b;
            color: white;
            padding: 10px 20px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            animation: bounce 1s infinite alternate;
        }

        @keyframes bounce {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(-10px);
            }
        }

        .cart-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            z-index: 1000;
            width: 80%;
            max-width: 500px;
            overflow-y: auto;
        }

        .cart-modal h3 {
            text-align: center;
        }

        .cart-modal .cart-details {
            margin: 10px 0;
        }

        .cart-modal .cart-details span {
            font-weight: bold;
        }

        .cart-modal .cart-form input {
            margin: 10px 0;
            padding: 10px;
            width: 100%;
            border-radius: 5px;
            border: 1px solid #ddd;
        }

        .cart-modal .cart-form button {
            background-color: #0b0f4b;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            border: none;
            width: 100%;
            cursor: pointer;
        }

        .cart-modal .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 20px;
            cursor: pointer;
            color: #0b0f4b;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
        }

        .remove-item {
            color: red;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
</head>
<body>

<header>
    <a href="MENU.HTML" class="back-to-home">Regresar al Inicio</a>
    <h1>
        <img src="LOGO SMART.png" alt="Logo" class="logo">
        Ventas de Equipos  SMART PC
    </h1>
</header>

<section class="product-container">
    <!-- Productos -->
    <article class="product">
        <img src="pantalla.png" alt="Producto 1">
        <h2>Pantalla Marca Quasad de 20 pulgadas</h2>
        <p>Perfecta para jugar comodamente</p>
        <p class="price">Precio: $8.50</p>
        <p class="stock">En stock: 5</p>
        <button onclick="agregarAlCarrito('Pantalla MARCA QUASAD', 8.50)">Comprar</button>
    </article>

    <article class="product">
        <img src="impresora mukltifuncional.png" alt="Producto 9">
        <h2>Impresora Multifuncional</h2>
        <p>Impresora multifuncional con esc√°ner y copias, ideal para oficina y uso dom√©stico.</p>
        <p class="price">Precio: $120</p>
        <p class="stock">En stock: 8</p>
        <button onclick="agregarAlCarrito('Impresora Multifuncional', 120)">Comprar</button>
    </article>
    

    <article class="product">
        <img src="core i 7.png" alt="Producto 17">
        <h2>CPU Intel Core i7</h2>
        <p>Procesador Intel Core i7 de d√©cima generaci√≥n, 8 n√∫cleos y 16 hilos, ideal para gaming y trabajo intensivo.</p>
        <p class="price">Precio: $350</p>
        <p class="stock">En stock: 12</p>
        <button onclick="agregarAlCarrito('CPU Intel Core i7', 350)">Comprar</button>
    </article>
    
    

    <article class="product">
        <img src="epsonl3250.png" alt="Producto 21">
        <h2>Impresora Modelo L3250</h2>
        <p>Impresora l√°ser monocrom√°tica L3250, ideal para impresi√≥n r√°pida y eficiente en oficinas.</p>
        <p class="price">Precio: $150</p>
        <p class="stock">En stock: 10</p>
        <button onclick="agregarAlCarrito('Impresora Meinboard L3250', 150)">Comprar</button>
    </article>
    

    <article class="product">
        <img src="laptop vivobuk.png" alt="Producto 22">
        <h2>Laptop ASUS VivoBook 15</h2>
        <p>Laptop con procesador AMD Ryzen 5, 8GB de RAM y 512GB SSD, ideal para trabajo y entretenimiento.</p>
        <p class="price">Precio: $700</p>
        <p class="stock">En stock: 20</p>
        <button onclick="agregarAlCarrito('Laptop ASUS VivoBook 15', 700)">Comprar</button>
    </article>
    

    <article class="product">
        <img src="rayzen.png" alt="Producto 23">
        <h2>Procesador AMD Ryzen 5 5600X</h2>
        <p>Procesador AMD Ryzen 5 5600X, 6 n√∫cleos y 12 hilos, ideal para gaming y tareas multitarea.</p>
        <p class="price">Precio: $250</p>
        <p class="stock">En stock: 20</p>
        <button onclick="agregarAlCarrito('Procesador AMD Ryzen 5 5600X', 250)">Comprar</button>
    </article>
    

    <article class="product">
        <img src="placa asus.png" alt="Producto 24">
        <h2>Placa Madre ASUS TUF Gaming B550-PLUS</h2>
        <p>Placa madre ATX con chipset B550, compatible con procesadores AMD Ryzen, ideal para gaming y overclocking.</p>
        <p class="price">Precio: $150</p>
        <p class="stock">En stock: 15</p>
        <button onclick="agregarAlCarrito('Placa Madre ASUS TUF Gaming B550-PLUS', 150)">Comprar</button>
    </article>
    
</section>

<!-- Carrito -->
<div id="cart" onclick="mostrarCarrito()">üõí</div>

<!-- Modal del carrito -->
<div class="cart-modal" id="cartModal">
    <span class="close-btn" onclick="cerrarCarrito()">√ó</span>
    <h3>Carrito de Compras</h3>
    <div id="cartItems"></div>
    <div class="cart-details">
        <p><span>Subtotal:</span> $<span id="cartSubtotal">0.00</span></p>
        <p><span>IVA (15%):</span> $<span id="cartIva">0.00</span></p>
        <p><span>Total:</span> $<span id="cartTotal">0.00</span></p>
    </div>
    <div class="cart-form">
        <h4>DATOS DE FACTURA</h4>
        <input type="text" id="name" placeholder="Nombre completo" required />
        <input type="text" id="ciudad" placeholder="Ciudad" required />
        <input type="text" id="calle" placeholder="Calle" required />
        <input type="text" id="cedula" placeholder="C√©dula/RUC" required />
        <button onclick="confirmarCompra()">Confirmar Compra</button>
    </div>
</div>

<script>
    let carrito = [];

    function agregarAlCarrito(nombre, precio) {
        carrito.push({ nombre, precio });
        actualizarCarrito();
        animarCarrito();
    }

    function actualizarCarrito() {
        const cartItemsContainer = document.getElementById('cartItems');
        const subtotalElement = document.getElementById('cartSubtotal');
        const ivaElement = document.getElementById('cartIva');
        const totalElement = document.getElementById('cartTotal');
        
        cartItemsContainer.innerHTML = '';
        carrito.forEach((producto, index) => {
            const itemDiv = document.createElement('div');
            itemDiv.classList.add('cart-item');
            itemDiv.innerHTML = `
                <span>${producto.nombre} - $${producto.precio.toFixed(2)}</span>
                <span class="remove-item" onclick="eliminarDelCarrito(${index})">X</span>
            `;
            cartItemsContainer.appendChild(itemDiv);
        });

        const subtotal = carrito.reduce((acc, producto) => acc + producto.precio, 0);
        const iva = subtotal * 0.15;
        const total = subtotal + iva;

        subtotalElement.textContent = subtotal.toFixed(2);
        ivaElement.textContent = iva.toFixed(2);
        totalElement.textContent = total.toFixed(2);
    }

    function eliminarDelCarrito(index) {
        carrito.splice(index, 1);
        actualizarCarrito();
    }

    function animarCarrito() {
        const cartIcon = document.getElementById('cart');
        cartIcon.style.animation = 'none';
        setTimeout(() => {
            cartIcon.style.animation = 'bounce 1s infinite alternate';
        }, 10);
    }

    function mostrarCarrito() {
        document.getElementById('cartModal').style.display = 'block';
    }

    function cerrarCarrito() {
        document.getElementById('cartModal').style.display = 'none';
    }

    function confirmarCompra() {
        const nombre = document.getElementById('name').value;
        const ciudad = document.getElementById('ciudad').value;
        const calle = document.getElementById('calle').value;
        const cedula = document.getElementById('cedula').value;

        // Verificar si los campos est√°n vac√≠os
        if (!nombre || !ciudad || !calle || !cedula) {
            alert("Por favor, complete todos los campos antes de confirmar la compra.");
            return;
        }

        let mensaje = `Detalles de la compra:\n\n`;

        carrito.forEach(producto => {
            mensaje += `${producto.nombre} - $${producto.precio.toFixed(2)}\n`;
        });

        const subtotal = carrito.reduce((acc, producto) => acc + producto.precio, 0);
        const iva = subtotal * 0.15;
        const total = subtotal + iva;

        mensaje += `\nSubtotal: $${subtotal.toFixed(2)}`;
        mensaje += `\nIVA (15%): $${iva.toFixed(2)}`;
        mensaje += `\nTotal: $${total.toFixed(2)}`;
        mensaje += `\n\nDatos de facturaci√≥n:\nNombre: ${nombre}\nCiudad: ${ciudad}\nCalle: ${calle}\nC√©dula/RUC: ${cedula}`;

        const telefono = '+593997497545'; // Reemplaza con tu n√∫mero de WhatsApp
        const urlWhatsApp = `whatsapp://send?phone=${telefono}&text=${encodeURIComponent(mensaje)}`;
        const urlWhatsAppWeb = `https://web.whatsapp.com/send?phone=${telefono}&text=${encodeURIComponent(mensaje)}`;

        // Intentar abrir la aplicaci√≥n de WhatsApp primero
        window.location.href = urlWhatsApp;

        // Si la aplicaci√≥n no se abre, abrir WhatsApp Web despu√©s de un peque√±o retraso
        setTimeout(() => {
            window.open(urlWhatsAppWeb, '_blank');
        }, 2000); // Ajusta el tiempo si es necesario

        // Limpiar el carrito y cerrar el modal
        carrito = [];
        actualizarCarrito();
        cerrarCarrito();
    }
</script>
</body>
</html>
